<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Radhi Bajahaw</title>
    <script src="https://unpkg.com/htmx.org@2.0.4"
            integrity="sha384-HGfztofotfshcF7+8n44JQL2oJmowVChPTg48S+jvZoztPfvwD79OC/LTtG6dMp+"
            crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!--    ---------------- ----------------- ------------------ ------------------    -->
    <!--    ---------------- ----------------- ------------------ ------------------    -->

    <link rel="stylesheet" href="css/style.css">

    <!--    ---------------- ----------------- ------------------ ------------------    -->
    <!--    ---------------- ----------------- ------------------ ------------------    -->

</head>
<body class="mx-4 ">

<!--    ---------------- ----------------- ------------------ ------------------    -->

<div class="container">
    <header class="navbar navbar-expand d-flex justify-content-center py-3 ">
        <ul class="navbar-nav nav navbar-light bg- shadow-sm borderb rounded-pill flex-nowrap z-1">
            <li><a href="#" class="nav-link px-3 ">Home</a></li>
            <li><a href="#" class="nav-link px-3">About</a></li>
            <li><a href="#" class="nav-link px-3">Social</a></li>
            <li><a href="#" class="nav-link px-3">Blog</a></li>
            <li><a href="#" class="nav-link px-3">Contact</a></li>
        </ul>
        <!--        <div class="d-flex position-absolute w-100 justify-content-end">-->
        <!--            <button class="btn btn-outline-secondary bg-light text-dark rounded-4 shadow-sm borderb">hi</button>-->
        <!--        </div>-->
    </header>
</div>

<!--    ---------------- ----------------- ------------------ ------------------    -->

<div class="container block d-flex pt-5 rounded">
    <div class="w-75">
        <div class="m-5 borderb ">
            <h1 class="display-5 fw-bold mb-4">Hi, I am Radhi Bajahaw</h1>
            <h4 class="text-secondary">Let the <span class="text-primary text-opacity-75">AI</span> tell you more about
                me
                ...</h4>
        </div>

        <p id="intro"
           class="m-5 text-secondary ai-response borderb result-streaming"
           hx-get="/ai"
           hx-trigger="load"
           hx-swap="InnerHtml">
        </p>
    </div>
    <div class="borderb w-25 ">
        <img class="img-fluid tilt-image shadow-lg rounded mt-5"
             src="https://github.com/user-attachments/assets/3c577c01-0a23-b91-8271-b0dcd1bc4bcc"
             alt="picture of me">
    </div>
</div>


<!--    ---------------- ----------------- ------------------ ------------------    -->

<!--<div class="container pt-5">-->
<!--    <div class="m-5">-->
<!--        <h2 class="fw-semibold mb-4">Hi, I am Radhi Bajahaw</h2>-->
<!--        <h4 class="text-secondary">Let the <span class="text-primary text-opacity-75">AI</span> tell you more about me-->
<!--            ...</h4>-->
<!--    </div>-->

<!--    <p class="m-5 text-secondary typing-effect"><span class="text-primary text-opacity-75">AI: </span> Hi there! Radhi-->
<!--        is a software-->
<!--        developer who loves diving into web development and backend projects, especially with Java. When he is not-->
<!--        coding, youâ€™ll probably find me strategizing over a game of chess. he is also a computer science major and a-->
<!--        proud Arch Linux user, always up for exploring new ideas and technologies . . .-->
<!--    </p>-->
<!--</div>-->

<!--    ---------------- ----------------- ------------------ ------------------    -->

<script>
    document.body.addEventListener('htmx:beforeSwap', (event) => {
        if (event.target.classList.contains('ai-response')) {
            console.log('true');
            event.preventDefault();
            const responseHTML = event.detail.xhr.responseText;
            event.target.classList.add('result-streaming');
            chatgpt(event.target, responseHTML);
        }
        console.log('done');
    });

    function chatgpt(element, text) {
        var typewriter = new Typewriter(element, {
            loop: false,
            delay: 20,
            cursor: ''
        });

        typewriter
            .pauseFor(500)
            .typeString('<span class="text-primary text-opacity-75">AI: </span> ');

        text.match(/[^ ]+ ?/g).forEach(word => {
            console.log(word);
            typewriter
                .typeString(word)
                .pauseFor(75);
        });

        typewriter
            .pauseFor(500)
            .callFunction(() => element.classList.remove('result-streaming'))
            .start()
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
<script src="https://unpkg.com/typewriter-effect@latest/dist/core.js"></script>
</body>
</html>